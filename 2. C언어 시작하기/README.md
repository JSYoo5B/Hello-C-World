# C언어 시작하기

## Hello World

1장의 실습 환경 구축에 이어서, 생애 첫 C언어 프로그램을 작성해보도록 하겠습니다. 이번 챕터의 내용은 이해가 가지 않더라도 무작정 따라해주시면 되겠습니다. 우선 ```hello.txt```나 ```test.txt``` 파일을 생성한 것과 같이, ```hello.c```라는 파일을 생성하여 다음과 같이 입력해줍시다. 참고로 C언어로 작성한 소스 코드의 확장자 명은 ```.c``` 입니다.  
```c
// hello.c
#include <stdio.h>

int main(void)
{
    printf("Hello World!\n");
    return 0;
}
```

위 내용을 포함하여 해당 서적에 있는 모든 소스 코드는 꼭 직접 손으로 쳐서 작성해주도록 합시다. 참고로 키보드에 ```\```(역슬래쉬) 문자가 없고 ```₩```(원) 문자가 있다면 원 문자를 입력해주시면 됩니다. 그렇게 해당 내용을 오탈자 없이 잘 작성했다면 wsl에 연동되어있는 vsc 터미널을 열어서 ```ls``` 명령어로 현재 디렉토리에 ```hello.c``` 파일이 잘 있는지 확인한 후, ```make hello``` 라는 명령어를 입력해 줍시다. 그러면 여러분이 작성한 소스 코드가 빌드되어 ```hello```라는 실행 파일이 생성되는 것을 볼 수 있습니다.  
```bash
pr0gr4m@DESKTOP-IRB9MN5:~/src$ ls
hello.c  test.txt
pr0gr4m@DESKTOP-IRB9MN5:~/src$ make hello
cc     hello.c   -o hello
pr0gr4m@DESKTOP-IRB9MN5:~/src$ ls
hello  hello.c  test.txt
pr0gr4m@DESKTOP-IRB9MN5:~/src$ 
```

축하드립니다. 성공적으로 첫 C 소스 코드를 작성하여 프로그램을 만들었습니다. 이제 터미널에서 ```./hello``` 라고 입력하여 저희가 만들어낸 첫 프로그램을 실행해주도록 합시다. 이 전까지 입력했던 명령어들과 달리 hello 앞에 ```./```가 붙는 것에 유의하시기 바랍니다. 이는 현재 디렉토리에 있는 ```hello```라는 실행 파일을 실행하겠다는 의미입니다.  
```bash
pr0gr4m@DESKTOP-IRB9MN5:~/src$ ./hello 
Hello World!
```

'Hello World!' 라는 문자열을 출력하는 것을 볼 수 있습니다.

간혹가다가 ```make hello``` 명령어를 입력했을 때 위처럼 ```cc     hello.c   -o hello```가 아닌 다음과 같은 오류가 발생하는 경우가 있습니다.
```bash
# 오류 1번
pr0gr4m@DESKTOP-IRB9MN5:~/src$ make hello
cc     hello.c   -o hello
hello.c:1:10: fatal error: studio.h: No such file or directory
    1 | #include <studio.h>
      |          ^~~~~~~~~~
compilation terminated.
make: *** [<builtin>: hello] Error 1

# 오류 2번
pr0gr4m@DESKTOP-IRB9MN5:~/src$ make hello
cc     hello.c   -o hello
hello.c: In function ‘main’:
hello.c:5:29: error: expected ‘;’ before ‘return’
    5 |     printf("Hello World!\n")
      |                             ^
      |                             ;
    6 |     return 0
      |     ~~~~~~                   
make: *** [<builtin>: hello] Error 1
```

오류 1번은 ```<stdio.h>``` 대신에 visual studio에 심취한 나머지 ```<studio.h>``` 라는 오탈자를 입력한 경우이고, 오류 2번은 ```printf("Hello, World!\n")```나 ```return 0``` 다음에 세미콜론 문자 ```;```를 누락한 경우입니다. 그 외에도 정상적인 결과가 나오지 않는 경우는 99.99%의 확률로 오탈자를 입력한 것이니 내용을 유심히 확인하시면 원하는 결과를 볼 수 있을 겁니다.

## Hello World 살펴보기

다짜고짜 외계어를 따라서 입력하고 빌드 명령어를 입력하니 프로그램이 완성되었습니다. 그러면 이 외계어의 의미를 한줄한줄 살펴보도록 하겠습니다. 참고로 여기에서 설명하는 내용은 하나도 이해가 가지 않아도 괜찮으니 편하게 읽어주시기 바랍니다. 오히려 이해가 된다면 프로그래밍의 신내림을 받은 사람이거나, 높은 확률로 프로그래밍 경험이 있는 독자분일 것입니다.  

```// hello.c```  

주석(comment)으로 해당 파일의 이름을 표기했습니다. 주석은 소스 코드에서 무시되는 메모인데, 바로 다음 챕터에서 더욱 자세하게 설명하도록 하겠습니다.

```#include <stdio.h>```  

```stdio.h```라는 파일에 있는 내용을 삽입(include)한다는 이야기입니다. 해당 작업은 몇 챕터 후에 이야기할 전처리기라는 요소가 수행해줍니다. 참고로 위와 같이 ```#``` 문자로 시작하는 라인은 Directives(지시문 혹은 지시어)라고 합니다.  

그런데 분명 ```stdio.h```라는 파일을 작성한 적이 없는데 해당 파일을 어디에서 가져와서 삽입을 한다는 걸까요? 터미널에서 ```ls /usr/include/stdio.h``` 명령을 입력하시면 stdio.h 파일이 있는 것을 볼 수 있습니다. 내용을 보고 싶다면 ```cat /usr/include/stdio.h``` 명령을 입력하시면 됩니다.  
해당 파일은 (g)libc라는 표준 C 라이브러리라는 것에 포함되어있고, 저희가 실습 환경을 구축할 때 ```build-essential``` 패키지를 설치하며 해당 라이브러리가 설치되었으므로 ```stdio.h``` 파일을 사용할 수 있었던 것입니다.  

```stdio```는 STanDard Input Output의 줄임말로, 표준 입출력이라는 뜻입니다. 표준 입출력에서는 화면에 내용을 출력하고, 사용자로부터 무엇인가를 입력받는 기능들을 제공하고 있습니다.  
```.h```는 C언어에서 헤더 파일에 해당하는 확장자입니다. 저희가 작성한 소스 코드 파일의 확장자는 ```.c```였지요. 헤더 파일이 무엇인지는 마찬가지로 나중에 자세히 설명할 예정인데, 지금은 다른 소스 코드에 포함되기 위한 내용들을 모아둔 파일이라고 이해하시면 됩니다.  

갑자기 전처리기니, 라이브러리니, 헤더 파일이니, 표준 입출력이니 하는 용어들이 등장하여 혼란을 야기하기 시작했습니다. 지금은 이런 내용이 이해가 가지 않더라도, 추후 내용들을 공부하다보면 자연스레 이해가 될 것이므로 걱정하지 않으셔도 괜찮습니다.

```int main(void)```  

해당 라인에서는 ```main```이라는 이름의 __함수__ 를 정의하고 있습니다. C로 만드는 모든 __유저 프로그램__ 은 이 ```main``` 함수에서 시작합니다. (이는 다시 말해 유저 프로그램이 아닌 것 중에는 ```main```함수로 시작하지 않는 것도 있다는 말입니다. 하지만 당장 이해하기 너무 어려운 내용이므로 그냥 저희가 당장 작성할 모든 프로그램이 이 ```main``` 함수로 시작한다고 생각하시면 됩니다.)  

그러면 ```main``` 왼쪽에 있는 ```int```와 ```(void)```는 무엇일까요? ```int```는 영어 integer(정수)의 줄임말로, ```main```함수를 종료할 때 정수 값을 __반환__ 한다는 의미입니다.  
그리고 ```(void)```는 ```main``` 함수가 실행될 때 전달 받는 __인자__ 가 없다는 이야기입니다.  

이번에도 함수니, 반환이니, 인자니 하는 새로운 용어들이 등장하여 이야기가 복잡해졌습니다. 마찬가지로 이런 내용이 있다라고 받아들이고 넘어가주시면 괜찮습니다.  

```{```  

해당 중괄호는 ```main``` 함수의 내용을(정의를) 시작하겠다는 의미입니다. C언어에서 중괄호는 많은 곳에 사용되는데, 함수의 정의를 시작하고 끝마치는데에도 중괄호를 사용합니다.  

```printf("Hello World!\n");```  

우리가 만들어낸 프로그램에서 가장 중요한 일을 하는 문장입니다.  
문장의 의미를 추론해보면 print는 출력하다 라는 의미고, 프로그램을 실행한 결과 ```Hello World!```라는 문자열이 출력되었으므로 따옴표 안에 있는 문자열을 출력하는 것인가? 라고 생각해볼 수 있습니다.  
그런데 그러면 ```\```와 ```n``` 문자는 어디갔을까요? 그리고 print뒤에 f는 무슨 뜻일까요? 그리고 마지막에 있는 ```;```(세미콜론)은 무엇을 의미하는 걸까요?  

우선 ```printf```는 'print formatted output'의 줄임말로, 위에서 이야기한 ```stdio.h```파일에 포함되어 있는 미리 정의되어 있는 표준 함수입니다. 즉, 무언가 형식(포맷)에 맞춰 문자열을 재구성하여 출력을 하는 함수입니다.  

그리고 ```\```와 ```n``` 문자는 둘이 합쳐서 개행 문자(엔터)를 의미합니다. 이렇게 ```\```(백슬래쉬)로 시작하는 특수한 문자를 __이스케이프 시퀀스__ 라고 하는데, 이 또한 나중에 자세히 알아보도록 하겠습니다.  

다음으로, 이 ```Hello World!\n``` 라는 문자열이 ```""```라는 쌍따옴표(double quote)로 묶여있는 것을 볼 수 있습니다. C언어에서 이 쌍따옴표로 묶인 문자열을 __문자열 리터럴__ 이라고 하는데, 프로그램 내에서 고정된 값을 의미합니다. 이쯤되면 저자는 설명을 제대로 하려는 의도가 있긴 한 것인가 하겠지만, 이번에도 그냥 그렇구나 하고 넘어가주셔도 좋습니다.  

그런데 이 문자열 리터럴이란게 대괄호 ```()``` 안에 들어가있는 것을 볼 수 있습니다. ```()``` 구두점(punctuator)은 어딘가에 정의되어 있는 함수를 호출하기 위한 연산자(operator)이며, 괄호 안에 해당 함수의 인자(parameter)로 전달해줄 인자 값(argument)을 넣어주게 됩니다.  
그렇다면 여기서는 ```"Hello World!\n"```라는 문자열 리터럴을 인자 값으로 하여 ```printf``` 함수를 호출하였다 라고 해석할 수 있겠습니다.  
안그래도 헷갈려 죽겠는데 왜 영어 단어까지 나열하면서 혼란을 가중하냐고 따질 수도 있겠습니다만, 지금 이러한 용어를 한번 읽고 지나가는 것이 독자분이 C 프로그램을 작성하면서 미래 영겁 혼란에 빠져 받을 고통을 줄여줄 수 있기 때문에 너무 낙담하지 말고 읽어주시면 감사하겠습니다.  

마지막으로 ```;```은 C언어에서 _expression statement_ (식문장), _null statement_ (널문장), _jump statement_ (점프문장) 등의 종료를 나타내는 구두점(punctuator)입니다.  
위에서 ```main``` 함수를 정의하는 라인에서는 세미콜론을 사용하지 않았는데, 왜 이번에는 사용되었을까요?  
위의 ```int main(void)``` 라인은 문장(statement)이라는 요소가 아니라 _function definition_ (함수 정의문)이라는 요소입니다.  
아니 뭐가 이렇게 복잡하냐구요? 이런 내용을 다 알아야 하는거냐구요? 절대 아닙니다.  
저희가 한국어를 배우고 사용할 때 모든 문법 구조를 따져 익힌게 아닌 것처럼 언제 세미콜론을 사용해야 하는지는 자연스럽게 익힐 수 있습니다.  
따라서 지금 당장은 저희가 대부분의 한국어 문장을 온점(.)으로 끝내는 것처럼 대부분의 C언어 명령문을 세미콜론으로 끝낸다고 생각하시면 됩니다.  

```return 0;```  


```}```  